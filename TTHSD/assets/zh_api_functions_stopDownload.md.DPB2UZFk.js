import{_ as o,o as a,c as e,ak as n}from"./chunks/framework.CDHwDzB5.js";const c=JSON.parse('{"title":"stopDownload 函数","description":"","frontmatter":{},"headers":[],"relativePath":"zh/api/functions/stopDownload.md","filePath":"zh/api/functions/stopDownload.md","lastUpdated":1771920474000}'),r={name:"zh/api/functions/stopDownload.md"};function s(l,t,d,i,g,m){return a(),e("div",null,[...t[0]||(t[0]=[n('<h1 id="stopdownload-函数" tabindex="-1">stopDownload 函数 <a class="header-anchor" href="#stopdownload-函数" aria-label="Permalink to “stopDownload 函数”">​</a></h1><table tabindex="0"><thead><tr><th>项目</th><th>说明</th></tr></thead><tbody><tr><td><strong>描述</strong></td><td>停止下载并清理所有资源。核心版本 ≥0.5.1 后会等待任务退出后释放连接，且销毁当前下载器。</td></tr><tr><td><strong>参数</strong></td><td><em><strong>id</strong></em> - 下载器实例ID</td></tr><tr><td><strong>返回值</strong></td><td>0（成功）或 -1（下载器不存在）</td></tr></tbody></table><h2 id="版本差异" tabindex="-1">版本差异 <a class="header-anchor" href="#版本差异" aria-label="Permalink to “版本差异”">​</a></h2><h3 id="核心版本-0-5-0" tabindex="-1">核心版本 0.5.0 <a class="header-anchor" href="#核心版本-0-5-0" aria-label="Permalink to “核心版本 0.5.0”">​</a></h3><ul><li>调用 <em><strong>stopDownload</strong></em> 后<strong>立即从下载器映射表中删除</strong>该下载器</li><li>删除后才调用 <em><strong>StopDownload()</strong></em> 方法清理资源</li><li><em><strong>StopDownload()</strong></em> 方法内部调用 <em><strong>PauseDownload()</strong></em> 后直接清理 WebSocket/Socket 连接</li></ul><h3 id="核心版本-0-5-1" tabindex="-1">核心版本 0.5.1 <a class="header-anchor" href="#核心版本-0-5-1" aria-label="Permalink to “核心版本 0.5.1”">​</a></h3><ul><li>调用 <em><strong>stopDownload</strong></em> 后<strong>立即从下载器映射表中删除</strong>该下载器</li><li>然后调用 <em><strong>StopDownload()</strong></em> 方法</li><li><em><strong>StopDownload()</strong></em> 方法内部： <ol><li>调用 <em><strong>PauseDownload()</strong></em> 取消 context</li><li>等待所有任务退出（<em><strong>activeTasks.Wait()</strong></em>）</li><li>关闭网络连接（WebSocket/Socket）</li><li>发送停止消息</li></ol></li><li><strong>重要</strong>：停止后<strong>无法恢复</strong>下载，因为下载器已被销毁</li></ul><hr><blockquote><p><strong>注意</strong>：如果您使用的是 TTHSD Core 0.5.0 版本，<em><strong>stopDownload</strong></em> 不会等待任务退出，而是立即清理资源。这可能导致部分任务未完全结束。</p></blockquote>',9)])])}const h=o(r,[["render",s]]);export{c as __pageData,h as default};
