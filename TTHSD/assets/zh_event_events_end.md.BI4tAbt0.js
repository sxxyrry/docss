import{_ as s,o as a,c as e,ai as i}from"./chunks/framework.cLBlF8T6.js";const g=JSON.parse('{"title":"end 事件 - 下载完成","description":"","frontmatter":{},"headers":[],"relativePath":"zh/event/events/end.md","filePath":"zh/event/events/end.md"}'),n={name:"zh/event/events/end.md"};function h(r,t,l,d,o,k){return a(),e("div",null,[...t[0]||(t[0]=[i(`<h1 id="end-事件-下载完成" tabindex="-1">end 事件 - 下载完成 <a class="header-anchor" href="#end-事件-下载完成" aria-label="Permalink to “end 事件 - 下载完成”">​</a></h1><h2 id="事件概述" tabindex="-1">事件概述 <a class="header-anchor" href="#事件概述" aria-label="Permalink to “事件概述”">​</a></h2><p><em><strong>end</strong></em> 事件在整个下载任务组全部完成时触发，标志着整个下载会话的结束。此事件在所有单个任务结束后发送。</p><h2 id="事件特征" tabindex="-1">事件特征 <a class="header-anchor" href="#事件特征" aria-label="Permalink to “事件特征”">​</a></h2><ul><li><strong>事件类型</strong>：<em><strong>end</strong></em></li><li><strong>触发时机</strong>：所有下载任务处理完毕时</li><li><strong>触发频率</strong>：每个下载会话仅触发一次</li></ul><h2 id="event-字段信息" tabindex="-1">Event 字段信息 <a class="header-anchor" href="#event-字段信息" aria-label="Permalink to “Event 字段信息”">​</a></h2><h2 id="event字段信息" tabindex="-1">Event字段信息 <a class="header-anchor" href="#event字段信息" aria-label="Permalink to “Event字段信息”">​</a></h2><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;end&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;下载器实例标识符&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ShowName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;任务显示名称&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;会话/实例ID&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="字段说明" tabindex="-1">字段说明 <a class="header-anchor" href="#字段说明" aria-label="Permalink to “字段说明”">​</a></h3><table tabindex="0"><thead><tr><th>字段名</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>Type</td><td>String</td><td>是</td><td>事件类型，固定值&quot;end&quot;</td></tr><tr><td>Name</td><td>String</td><td>是</td><td>下载器实例的唯一标识符</td></tr><tr><td>ShowName</td><td>String</td><td>是</td><td>任务的显示名称，通常为文件名或用户指定的名称</td></tr><tr><td>ID</td><td>String</td><td>是</td><td>会话/实例ID</td></tr></tbody></table><h2 id="msg-字段说明" tabindex="-1">Msg 字段说明 <a class="header-anchor" href="#msg-字段说明" aria-label="Permalink to “Msg 字段说明”">​</a></h2><p>源码中 <em><strong>end</strong></em> 事件通常以空 <em><strong>msg</strong></em> 发送（即 <em><strong>{}</strong></em>）。如果调用方或实现方额外扩展，可包含统计汇总，但不能依赖这些扩展字段，接收方应能兼容空 <em><strong>msg</strong></em>。</p><h2 id="使用建议" tabindex="-1">使用建议 <a class="header-anchor" href="#使用建议" aria-label="Permalink to “使用建议”">​</a></h2><ol><li>将 <em><strong>end</strong></em> 事件作为释放资源、显示会话结束状态的触发点</li><li>不要假设 <em><strong>msg</strong></em> 中包含统计信息，若需要统计请在程序内维护并在自定义回调中传递</li></ol>`,14)])])}const E=s(n,[["render",h]]);export{g as __pageData,E as default};
