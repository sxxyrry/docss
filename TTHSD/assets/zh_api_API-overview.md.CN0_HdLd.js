import{_ as t,o as i,c as a,ak as e}from"./chunks/framework.CDHwDzB5.js";const d=JSON.parse('{"title":"API 参考","description":"","frontmatter":{},"headers":[],"relativePath":"zh/api/API-overview.md","filePath":"zh/api/API-overview.md","lastUpdated":1771920474000}'),n={name:"zh/api/API-overview.md"};function l(r,s,h,o,g,k){return i(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="api-参考" tabindex="-1">API 参考 <a class="header-anchor" href="#api-参考" aria-label="Permalink to “API 参考”">​</a></h1><p>本节详细介绍了 TTHighSpeedDownloader (TTHSD) 的 API 接口、数据结构和回调机制。</p><h2 id="核心概念" tabindex="-1">核心概念 <a class="header-anchor" href="#核心概念" aria-label="Permalink to “核心概念”">​</a></h2><h3 id="任务数据结构-task-data" tabindex="-1">任务数据结构 (Task Data) <a class="header-anchor" href="#任务数据结构-task-data" aria-label="Permalink to “任务数据结构 (Task Data)”">​</a></h3><p>传递给 <em><strong>startDownload</strong></em> 等函数的任务列表必须是 JSON 格式字符串：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/file.zip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;SavePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/save/file.zip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ShowName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;文件显示名称&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;unique-task-id-123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h3 id="回调函数定义" tabindex="-1">回调函数定义 <a class="header-anchor" href="#回调函数定义" aria-label="Permalink to “回调函数定义”">​</a></h3><p>回调函数用于接收下载过程中的所有事件和状态更新。</p><p><strong>C 语言定义</strong>:</p><div class="language-c"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typedef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">progress_callback_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> event, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> msg);</span></span></code></pre></div><p><strong>Python 定义</strong>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event_json_str, msg_json_str):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # event_json_str 和 msg_json_str 是 JSON 字符串</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    pass</span></span></code></pre></div><h2 id="事件与消息结构-event-message" tabindex="-1">事件与消息结构 (Event &amp; Message) <a class="header-anchor" href="#事件与消息结构-event-message" aria-label="Permalink to “事件与消息结构 (Event &amp; Message)”">​</a></h2><p>回调函数的两个参数 <em><strong>event</strong></em> 和 <em><strong>msg</strong></em> 均为 JSON 格式字符串。</p><h3 id="_1-事件结构-event" tabindex="-1">1. 事件结构 (Event) <a class="header-anchor" href="#_1-事件结构-event" aria-label="Permalink to “1. 事件结构 (Event)”">​</a></h3><p><em><strong>Event</strong></em> 对象描述了当前发生的事件类型和元数据。</p><table tabindex="0"><thead><tr><th style="text-align:left;">字段</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th><th style="text-align:left;">注意事项</th></tr></thead><tbody><tr><td style="text-align:left;"><em><strong>Type</strong></em></td><td style="text-align:left;">string</td><td style="text-align:left;">事件类型</td><td style="text-align:left;"><em><strong>start</strong></em>, <em><strong>startOne</strong></em>, <em><strong>update</strong></em>, <em><strong>endOne</strong></em>, <em><strong>end</strong></em>, <em><strong>msg</strong></em>, <em><strong>err</strong></em></td></tr><tr><td style="text-align:left;"><em><strong>Name</strong></em></td><td style="text-align:left;">string</td><td style="text-align:left;">事件名称</td><td style="text-align:left;">仅在部分事件中包含（如 <em><strong>msg</strong></em> 类型可能包含 &quot;错误&quot;、&quot;停止&quot; 等）</td></tr><tr><td style="text-align:left;"><em><strong>ShowName</strong></em></td><td style="text-align:left;">string</td><td style="text-align:left;">显示名称</td><td style="text-align:left;"><em><strong>update</strong></em> 和 <em><strong>start</strong></em>/<em><strong>end</strong></em> 事件中为空字符串</td></tr><tr><td style="text-align:left;"><em><strong>ID</strong></em></td><td style="text-align:left;">string</td><td style="text-align:left;">任务 ID</td><td style="text-align:left;"><em><strong>update</strong></em> 事件中包含对应任务 ID</td></tr></tbody></table><p><strong>事件类型详解</strong>:</p><ul><li><em><strong>start</strong></em>: 批量任务开始（ID为空）</li><li><em><strong>startOne</strong></em>: 单个文件开始（包含完整 ID 和 ShowName）</li><li><em><strong>update</strong></em>: 进度更新（<strong>包含任务 ID</strong>）</li><li><em><strong>endOne</strong></em>: 单个文件结束（包含完整 ID 和 ShowName）</li><li><em><strong>end</strong></em>: 批量任务结束（ID为空）</li><li><em><strong>msg</strong></em>: 消息通知（包括错误、暂停、恢复、停止等状态）</li></ul><h3 id="_2-消息结构-msg" tabindex="-1">2. 消息结构 (Msg) <a class="header-anchor" href="#_2-消息结构-msg" aria-label="Permalink to “2. 消息结构 (Msg)”">​</a></h3><p><em><strong>Msg</strong></em> 对象的内容取决于 <em><strong>Event.Type</strong></em>，且在 <em><strong>msg</strong></em> 类型下对应的 Key 可能不同。</p><h4 id="start-end" tabindex="-1"><em><strong>start</strong></em> / <em><strong>end</strong></em> <a class="header-anchor" href="#start-end" aria-label="Permalink to “start / end”">​</a></h4><ul><li><strong>Msg 内容</strong>: 空对象 <em><strong>{}</strong></em></li></ul><h4 id="startone-endone" tabindex="-1"><em><strong>startOne</strong></em> / <em><strong>endOne</strong></em> <a class="header-anchor" href="#startone-endone" aria-label="Permalink to “startOne / endOne”">​</a></h4><ul><li><strong>Msg 内容</strong>:</li></ul><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;任务URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;SavePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;保存路径&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ShowName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;显示名称&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 当前任务索引 (从1开始)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Total&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 总任务数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="update" tabindex="-1"><em><strong>update</strong></em> <a class="header-anchor" href="#update" aria-label="Permalink to “update”">​</a></h4><ul><li><strong>Msg 内容</strong>:</li></ul><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Total&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1048576</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 文件总字节数</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Downloaded&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">524288</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // 已下载字节数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="msg" tabindex="-1"><em><strong>msg</strong></em> <a class="header-anchor" href="#msg" aria-label="Permalink to “msg”">​</a></h4><p><em><strong>msg</strong></em> 类型的事件用于传递各种状态信息，其 JSON Key 固定为 &quot;Text&quot;</p><ul><li><strong>Msg 内容</strong>:</li></ul><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;Text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;下载已停止&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;Text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;下载已暂停&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;Text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;下载已恢复&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><h4 id="err" tabindex="-1"><em><strong>err</strong></em> <a class="header-anchor" href="#err" aria-label="Permalink to “err”">​</a></h4><p><em><strong>err</strong></em> 类型的事件用于传递错误信息，其 JSON Key 固定为 &quot;Error&quot;</p><ul><li><strong>Msg 内容</strong>:</li></ul><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;Error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;下载文件失败: ...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><h2 id="通用规则" tabindex="-1">通用规则 <a class="header-anchor" href="#通用规则" aria-label="Permalink to “通用规则”">​</a></h2><h3 id="内存管理-c-c-调用者" tabindex="-1">内存管理 (C/C++ 调用者) <a class="header-anchor" href="#内存管理-c-c-调用者" aria-label="Permalink to “内存管理 (C/C++ 调用者)”">​</a></h3><ul><li><em><strong>tasksData</strong></em> 指向的内存需在调用期间保持有效。</li><li>回调函数中的 <em><strong>event</strong></em> 和 <em><strong>msg</strong></em> 指针仅在回调执行期间有效，不要在回调外部保存这些指针。</li><li>在 核心版本 ≥0.5.1 后 <em><strong>stopDownload</strong></em> 会清理下载器内部所有资源，包括 goroutine 和网络连接，当前下载器也会被销毁。</li><li>在 核心版本 ≥0.5.1 后 Python 接口封装 端调用 close() 后，应确保不再使用对应的下载器 ID。</li><li>在 核心版本 ≥0.5.1 后 暂停/恢复功能在并行下载（is_multiple=true）时可能存在限制，建议顺序下载时使用暂停/恢复功能。</li></ul><h3 id="线程安全" tabindex="-1">线程安全 <a class="header-anchor" href="#线程安全" aria-label="Permalink to “线程安全”">​</a></h3><ul><li>API 函数是线程安全的。</li><li>可以同时管理多个不同的 <em><strong>Downloader</strong></em> 实例。</li><li>对同一个 <em><strong>Downloader ID</strong></em> 的操作（如 暂停 -&gt; 恢复）应顺序执行。</li></ul><h3 id="错误处理" tabindex="-1">错误处理 <a class="header-anchor" href="#错误处理" aria-label="Permalink to “错误处理”">​</a></h3><ul><li>API 函数返回 <em><strong>-1</strong></em> 表示失败（如参数错误）。</li><li>异步过程中的错误（如网络超时）将通过 <em><strong>err</strong></em> 事件类型的 <em><strong>Error</strong></em> 字段回调通知。</li></ul><h2 id="版本差异说明" tabindex="-1">版本差异说明 <a class="header-anchor" href="#版本差异说明" aria-label="Permalink to “版本差异说明”">​</a></h2><h3 id="核心版本-0-5-0-vs-0-5-1" tabindex="-1">核心版本 0.5.0 vs 0.5.1 <a class="header-anchor" href="#核心版本-0-5-0-vs-0-5-1" aria-label="Permalink to “核心版本 0.5.0 vs 0.5.1”">​</a></h3><h4 id="pausedownload-行为差异" tabindex="-1">pauseDownload 行为差异 <a class="header-anchor" href="#pausedownload-行为差异" aria-label="Permalink to “pauseDownload 行为差异”">​</a></h4><ul><li><strong>0.5.0</strong>: 调用后会立即从下载器映射表中删除该下载器，因此<strong>无法恢复</strong>下载</li><li><strong>0.5.1</strong>: 调用后保留下载器在映射表中，可以<strong>恢复</strong>下载（但并非断点续传）</li></ul><h4 id="stopdownload-行为差异" tabindex="-1">stopDownload 行为差异 <a class="header-anchor" href="#stopdownload-行为差异" aria-label="Permalink to “stopDownload 行为差异”">​</a></h4><ul><li><strong>0.5.0</strong>: 立即删除下载器，然后调用 <em><strong>StopDownload()</strong></em> 清理资源</li><li><strong>0.5.1</strong>: 立即删除下载器，然后调用 <em><strong>StopDownload()</strong></em>，但内部会等待所有任务退出（<em><strong>activeTasks.Wait()</strong></em>）后才清理资源</li></ul><h4 id="resumedownload-行为差异" tabindex="-1">resumeDownload 行为差异 <a class="header-anchor" href="#resumedownload-行为差异" aria-label="Permalink to “resumeDownload 行为差异”">​</a></h4><ul><li><strong>0.5.0</strong>: <strong>无法恢复</strong>下载（因为 <em><strong>pauseDownload</strong></em> 已删除下载器）</li><li><strong>0.5.1</strong>: <strong>可以恢复</strong>已暂停的下载（但无法恢复已停止的下载）</li></ul><h4 id="错误事件类型差异" tabindex="-1">错误事件类型差异 <a class="header-anchor" href="#错误事件类型差异" aria-label="Permalink to “错误事件类型差异”">​</a></h4><ul><li><strong>0.5.0</strong>: <em><strong>startDownload_ID</strong></em> 和 <em><strong>startMultipleDownloads_ID</strong></em> 失败时发送 <em><strong>EventTypeMsg</strong></em> 事件，错误信息在 <em><strong>msg[&quot;Text&quot;]</strong></em> 中</li><li><strong>0.5.1</strong>: 所有错误统一发送 <em><strong>EventTypeErr</strong></em> 事件，错误信息在 <em><strong>msg[&quot;Error&quot;]</strong></em> 中，且区分 <em><strong>context.Canceled</strong></em> 不发送事件</li></ul><h4 id="内部实现差异" tabindex="-1">内部实现差异 <a class="header-anchor" href="#内部实现差异" aria-label="Permalink to “内部实现差异”">​</a></h4><ul><li><strong>0.5.0</strong>: 使用 <em><strong>HSDownloader.Downloader</strong></em> 字段存储下载器实例</li><li><strong>0.5.1</strong>: 移除了 <em><strong>HSDownloader.Downloader</strong></em> 字段，统一使用 <em><strong>context.Context</strong></em> 控制取消，使用 <em><strong>sync.WaitGroup</strong></em> 跟踪活动任务</li></ul><hr><h3 id="核心版本-0-5-0-的具体行为" tabindex="-1">核心版本 0.5.0 的具体行为 <a class="header-anchor" href="#核心版本-0-5-0-的具体行为" aria-label="Permalink to “核心版本 0.5.0 的具体行为”">​</a></h3><blockquote><p>如果您使用的是 TTHSD Core 0.5.0 版本，请注意以下行为差异：</p></blockquote><p><strong>暂停功能限制</strong>：调用 <em><strong>pauseDownload</strong></em> 后，下载器会被立即从内部映射表中删除，因此 <em><strong>resumeDownload</strong></em> 无法恢复已暂停的下载。这是 0.5.0 版本的一个已知限制。</p><p><strong>错误事件格式</strong>：在 0.5.0 版本中，启动下载失败时发送的错误事件类型为 <em><strong>EventTypeMsg</strong></em>，错误信息存储在 <em><strong>msg[&quot;Text&quot;]</strong></em> 字段中，而不是 <em><strong>EventTypeErr</strong></em> 和 <em><strong>msg[&quot;Error&quot;]</strong></em>。</p><p><strong>任务跟踪</strong>：0.5.0 版本使用 <em><strong>HSDownloader.Downloader</strong></em> 字段存储下载器实例，并使用 <em><strong>sync.WaitGroup</strong></em> 跟踪任务。</p>`,64)])])}const m=t(n,[["render",l]]);export{d as __pageData,m as default};
