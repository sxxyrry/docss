import{_ as t,o as a,c as r,ak as n}from"./chunks/framework.CDHwDzB5.js";const c=JSON.parse('{"title":"Event 事件详解","description":"","frontmatter":{},"headers":[],"relativePath":"zh/event/events/event-detail.md","filePath":"zh/event/events/event-detail.md","lastUpdated":1771920474000}'),l={name:"zh/event/events/event-detail.md"};function s(h,e,i,o,d,m){return a(),r("div",null,[...e[0]||(e[0]=[n('<h1 id="event-事件详解" tabindex="-1">Event 事件详解 <a class="header-anchor" href="#event-事件详解" aria-label="Permalink to “Event 事件详解”">​</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to “概述”">​</a></h2><p>TTHSD 内核提供六种标准事件类型，用于在下载过程的不同阶段向调用程序传递状态信息和通知。</p><h2 id="事件类型分类" tabindex="-1">事件类型分类 <a class="header-anchor" href="#事件类型分类" aria-label="Permalink to “事件类型分类”">​</a></h2><h3 id="流程控制事件" tabindex="-1">流程控制事件 <a class="header-anchor" href="#流程控制事件" aria-label="Permalink to “流程控制事件”">​</a></h3><ul><li><a href="./start.html"><em><strong>start</strong></em></a> - 下载任务组开始</li><li><a href="./end.html"><em><strong>end</strong></em></a> - 下载任务组完成</li></ul><h3 id="任务级事件" tabindex="-1">任务级事件 <a class="header-anchor" href="#任务级事件" aria-label="Permalink to “任务级事件”">​</a></h3><ul><li><a href="./startOne.html"><em><strong>startOne</strong></em></a> - 单个任务开始</li><li><a href="./endOne.html"><em><strong>endOne</strong></em></a> - 单个任务完成</li></ul><h3 id="状态更新事件" tabindex="-1">状态更新事件 <a class="header-anchor" href="#状态更新事件" aria-label="Permalink to “状态更新事件”">​</a></h3><ul><li><a href="./update.html"><em><strong>update</strong></em></a> - 下载进度更新</li></ul><h3 id="通知事件" tabindex="-1">通知事件 <a class="header-anchor" href="#通知事件" aria-label="Permalink to “通知事件”">​</a></h3><ul><li><a href="./msg.html"><em><strong>msg</strong></em></a> - 系统消息通知</li><li><a href="./err.html"><em><strong>err</strong></em></a> - 错误通知</li></ul><h2 id="事件生命周期" tabindex="-1">事件生命周期 <a class="header-anchor" href="#事件生命周期" aria-label="Permalink to “事件生命周期”">​</a></h2><table tabindex="0"><thead><tr><th>会话开始</th><th>→</th><th>任务开始</th><th>→</th><th>进度更新</th><th>→</th><th>任务结束</th><th>→</th><th>会话结束</th></tr></thead><tbody><tr><td>[start]</td><td>→</td><td>[startOne]</td><td>→</td><td>[update]</td><td>→</td><td>[endOne]</td><td>→</td><td>[end]</td></tr></tbody></table><h2 id="事件处理建议" tabindex="-1">事件处理建议 <a class="header-anchor" href="#事件处理建议" aria-label="Permalink to “事件处理建议”">​</a></h2><h3 id="处理优先级" tabindex="-1">处理优先级 <a class="header-anchor" href="#处理优先级" aria-label="Permalink to “处理优先级”">​</a></h3><ol><li><strong>高优先级</strong>：<em><strong>end</strong></em>、<em><strong>endOne</strong></em>（任务完成状态确认）</li><li><strong>中优先级</strong>：<em><strong>start</strong></em>、<em><strong>startOne</strong></em>（流程控制）</li><li><strong>低优先级</strong>：<em><strong>update</strong></em>（高频进度更新）</li><li><strong>通知优先级</strong>：<em><strong>msg</strong></em>、<em><strong>err</strong></em>（系统消息）</li></ol><h3 id="性能优化" tabindex="-1">性能优化 <a class="header-anchor" href="#性能优化" aria-label="Permalink to “性能优化”">​</a></h3><ul><li>对 <em><strong>update</strong></em> 事件实施节流处理</li><li><em><strong>startOne</strong></em> 和 <em><strong>endOne</strong></em> 事件可批量处理</li><li><em><strong>msg</strong></em> 和 <em><strong>err</strong></em> 事件根据级别决定处理方式</li></ul><h3 id="错误处理" tabindex="-1">错误处理 <a class="header-anchor" href="#错误处理" aria-label="Permalink to “错误处理”">​</a></h3><ul><li>重点关注 <em><strong>err</strong></em> 事件中的 error 级别消息</li><li><em><strong>endOne</strong></em> 事件的状态字段必须验证</li><li><em><strong>end</strong></em> 事件的汇总统计用于最终状态确认</li></ul><h2 id="相关文档" tabindex="-1">相关文档 <a class="header-anchor" href="#相关文档" aria-label="Permalink to “相关文档”">​</a></h2><ul><li><a href="/TTHSD/zh/event/event-overview.html">Event事件机制总览</a></li><li><a href="/TTHSD/zh/event/event-format.html">Event键值对格式规范</a></li></ul>',23)])])}const b=t(l,[["render",s]]);export{c as __pageData,b as default};
