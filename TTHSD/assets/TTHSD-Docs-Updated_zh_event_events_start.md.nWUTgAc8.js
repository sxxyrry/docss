import{_ as i,o as a,c as t,ak as n}from"./chunks/framework.CDHwDzB5.js";const g=JSON.parse('{"title":"start 事件 - 下载任务组开始","description":"","frontmatter":{},"headers":[],"relativePath":"TTHSD-Docs-Updated/zh/event/events/start.md","filePath":"TTHSD-Docs-Updated/zh/event/events/start.md","lastUpdated":1772257285000}'),e={name:"TTHSD-Docs-Updated/zh/event/events/start.md"};function h(l,s,r,k,p,d){return a(),t("div",null,[...s[0]||(s[0]=[n(`<h1 id="start-事件-下载任务组开始" tabindex="-1">start 事件 - 下载任务组开始 <a class="header-anchor" href="#start-事件-下载任务组开始" aria-label="Permalink to “start 事件 - 下载任务组开始”">​</a></h1><h2 id="事件概述" tabindex="-1">事件概述 <a class="header-anchor" href="#事件概述" aria-label="Permalink to “事件概述”">​</a></h2><p><em><strong>start</strong></em>事件在下载器开始执行整个下载任务组时触发，标志着下载流程的正式启动。</p><h2 id="事件特征" tabindex="-1">事件特征 <a class="header-anchor" href="#事件特征" aria-label="Permalink to “事件特征”">​</a></h2><ul><li><strong>事件类型</strong>：<em><strong>start</strong></em></li><li><strong>触发时机</strong>：下载器开始处理任务组时触发（源码中通常发送一个空的 msg）</li><li><strong>触发频率</strong>：每个下载会话仅触发一次</li></ul><h2 id="event-字段信息" tabindex="-1">Event 字段信息 <a class="header-anchor" href="#event-字段信息" aria-label="Permalink to “Event 字段信息”">​</a></h2><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;start&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;事件描述&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ShowName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;友好显示名称&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="msg-字段说明" tabindex="-1">Msg 字段说明 <a class="header-anchor" href="#msg-字段说明" aria-label="Permalink to “Msg 字段说明”">​</a></h3><p>源码中对 <em><strong>start</strong></em> 事件通常发送一个空的 <em><strong>msg</strong></em>（即 <em><strong>{}</strong></em>）。如果实现方扩展，可包含例如 <em><strong>TaskCount</strong></em> 等会话级别信息，但默认不依赖这些字段。</p><h2 id="使用示例" tabindex="-1">使用示例 <a class="header-anchor" href="#使用示例" aria-label="Permalink to “使用示例”">​</a></h2><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> callback_func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event_dict, msg_dict):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> event_dict[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;start&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # msg_dict 默认通常为空，检查并兼容处理</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        task_count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> msg_dict.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;TaskCount&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;下载会话已开始&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, event_dict.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ShowName&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to “注意事项”">​</a></h2><ol><li>此事件标志着下载流程的正式开始</li><li>不要假设 <em><strong>msg</strong></em> 中一定包含统计信息，接收方应对空 <em><strong>msg</strong></em> 做兼容处理</li><li>在此事件之后才会触发每个任务的 <em><strong>startOne</strong></em> 事件</li></ol>`,13)])])}const E=i(e,[["render",h]]);export{g as __pageData,E as default};
